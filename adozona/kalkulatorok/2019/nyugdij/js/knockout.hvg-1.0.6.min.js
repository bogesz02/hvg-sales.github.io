/*
 * Knockout JavaScript HVG extender v1.0.6
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
function formatHandler(e,r,n,t,a){var u=e()instanceof Field?e():e,i=e()instanceof Field?e().value:e;return u.format=ko.computed({read:function(){var l,e=i(),o=u.focus instanceof Function?u.focus():!1;switch(r){case"number":l=readAsNumber(e,n,t,a?!0:o);break;case"date":l=readAsDate(e,n)}return l},write:function(e){var u,a=i();switch(r){case"number":u=writeAsNumber(e,n,t);break;case"date":u=writeAsDate(e,n)}u!==a?i(u):e!==a&&i.notifySubscribers(u)}}).extend({notify:"always"}),u}function readAsNumber(e,r,n,t){if(void 0===e||null===e)return null;var a=Number(e)*n;return a=a.toFixed(r),a=a.toString(),a=a.replace(/\./g,","),a=t?a:a.replace(/\B(?=(\d{3})+(?!\d))/g,"."),String(a)}function readAsDate(e,r){if(void 0===e||null===e)return null;var n=new Date(e),t=new Array;return t.push(String(n.getFullYear())),t.push(String("0"+(n.getMonth()+1)).slice(-2)),"all"==r&&t.push(String("0"+n.getDate()).slice(-2)),t=t.join("."),t+=".",String(t)}function writeAsNumber(e,r,n){if(void 0===e||null===e)return null;var t=String(e);t=t.replace(/\./g,""),t=t.replace(/\,/g,"."),t=t.replace(/[^0-9\.\-]/g,""),t=parseFloat(t);var a=Math.log(n)/Math.LN10+r,u=Math.pow(10,r),i=isNaN(t)?0:t;return i=Math.round(i*u),i/=u*n,i=i.toFixed(a),Number(i)}function writeAsDate(e){if(void 0===e||null===e)return null;var n=String(e);return n=n.replace(/\./g,"/"),n=n.replace(/\-/g,"/"),n=n.replace(/[^0-9]+$/g,"")}ko.bindingHandlers.select={init:function(e,r){ko.utils.registerEventHandler(e,"focus",function(){ko.utils.unwrapObservable(r())&&e.select()})}},ko.bindingHandlers.hidden={update:function(e,r){ko.bindingHandlers.visible.update(e,function(){return!ko.utils.unwrapObservable(r())})}},ko.extenders.formatToCurrency=function(e,r){return formatHandler(e,"number",r,1)},ko.extenders.formatToPercent=function(e,r){return formatHandler(e,"number",r,100)},ko.extenders.formatToNumber=function(e,r){return formatHandler(e,"number",r,1,!0)},ko.extenders.formatToDate=function(e,r){return formatHandler(e,"date",r)};
